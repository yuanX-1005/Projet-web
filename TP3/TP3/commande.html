
<!DOCTYPE html>
<html lang="fr"><!-- L'en-tête -->
    <head>
        <title>Commande</title>
        <meta charset="utf-8">
        <link href="style_TP3.css" rel="stylesheet"> 
        <meta name="viewport" content="width=device-width">

    </head>
    
    <!-- Le corps-->
    
    <body>
        <header>
            <form class="formulaire" action=""  name="login">
                <h2>Passez votre commande ici </h2>   
                <span id="dateheure"></span>       
                
                <div class="formDetails">
                    <h3>Coordonnées</h3>
                    <div class="container">          
                        <input type="text" name="nom" placeholder="Nom" required>     
                        <input type="text" name="prenom" placeholder="Prénom" required>       
                        <input type="text" name="adresse" placeholder="Adresse de livraison" required>                    
                        <input type="email" name="email" placeholder="email" required>  
                    </div>

                    <strong>Mode de livraison : </strong>
                    <div class="container">      
                        <select name="livraison" id="livraison" size=1>
                            <option value="Sur place">Retrait sur place
                            <option value="Livraison">Livraison à domicile
                        </select>
                    </div>
                    
                    <strong>Mode de paiement</strong>
                    <div class="container">  
                        <input type="radio" name="sur place">Paiement sur place
                        <input type="radio" name="en ligne">Paiement en ligne
                    </div>
                    
                    <strong>Je souhaite recevoir une facture</strong>
                    <input type="checkbox" name=”facture”>

                    <h3>Menu à commander</h3>
                    
                    <div class="container">  
                        <strong>Entrée : </strong>
                        <select name="entree" id="entreeId" >       
                            <option value="soupe de légumes">Soupe de légumes
                            <option value="salade aux fruits de mer">Salade aux fruits de mer
                        </select>
                        
                        <strong>Plat : </strong>
                        <select name="plat" >
                            <option value="Couscous au poisson">Couscous au poisson
                            <option value="Côte de veau aux petits légumes">Côte de veau aux petits légumes
                        </select>

                        
                        <strong>Dessert : </strong>
                        <select name="dessert" >
                            <option value="Tiramisu">Tiramusi
                            <option value="Mousse au chocolat">Mousse au chocolat
                        </select>
                    </div>
                
                    <button type="submit" class="btn" id="ajouter">Ajouter</button>
                    <button type="button" class="btn" id="supprimer">Supprimer</button>
                    <button type="reset"  class="btn" >Annuler</button>
                </div>
            </form>
        </header>
        <main>
            <div class="infoRecuperer">
                <table class="table">
                    <tbody>
                        <tr>
                            <td>Nom</td>
                            <td>Adresse de livraison</td>
                            <td>Mode de livraison</td>
                            <td>Entr&eacute;e</td>
                            <td>Plat</td>
                            <td>Dessert</td>
                        </tr>
                        
                    </tbody>
                </table>
            </div>
        </main>
        <script>
            window.addEventListener('load', function(){
                var loginForm = document.forms.login;
                var nom,livraison;
                // console.log(loginForm.elements[name="nom"]);
                function ajouter(){
                    nom = loginForm.elements[name="nom"].value;
                    adresse = loginForm.elements[name="adresse"].value;
                    livraison = loginForm.elements[name="livraison"].value;
                    entree = loginForm.elements[name="entree"].value;
                    plat = loginForm.elements[name="plat"].value;
                    dessert = loginForm.elements[name="dessert"].value;
                }

                var btn = document.querySelector('#ajouter');
                btn.onclick = function(){
                    ajouter();
                    console.log(nom + " " + livraison);
                    affichierReponse();
                    return false;
                }
                
                function affichierReponse(){
                    alert(333);
                    var trReponse = document.createElement("tr");
                    
                    var tdReponse1 = document.createElement("td");
                    var tdReponse2 = document.createElement("td");
                    var tdReponse3 = document.createElement("td");
                    var tdReponse4 = document.createElement("td");
                    var tdReponse5 = document.createElement("td");
                    var tdReponse6 = document.createElement("td");
                    var t1 = document.createTextNode(nom);
                    var t2 = document.createTextNode(adresse);
                    var t3 = document.createTextNode(livraison);
                    var t4 = document.createTextNode(entree);
                    var t5 = document.createTextNode(plat);
                    var t6 = document.createTextNode(dessert);
                    trReponse.appendChild(tdReponse1);
                    trReponse.appendChild(tdReponse2);
                    trReponse.appendChild(tdReponse3);
                    trReponse.appendChild(tdReponse4);
                    trReponse.appendChild(tdReponse5);
                    trReponse.appendChild(tdReponse6);
                    tdReponse1.appendChild(t1);
                    tdReponse2.appendChild(t2);
                    tdReponse3.appendChild(t3);
                    tdReponse4.appendChild(t4);
                    tdReponse5.appendChild(t5);
                    tdReponse6.appendChild(t6);
                    var select = document.querySelector(".table tbody");
                    select.appendChild(trReponse);
                    var btnSup = document.querySelector('#supprimer');
                    btnSup.onclick = function(){
                        supprimer();
                    }

                    function supprimer(){
                        // var supElement = querySelector(".table tbody tr:last-of-type");
                        while(select.firstChild){
                            select.removeChild(select.firstChild);
                        }
                    }
                }
            });
            
        </script>
    </body>
</html>